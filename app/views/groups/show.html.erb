<div class="gmdisplayer">
<div class="gmlefter">
<h1 class="connector"><%= @group.name %> </h1>
<h1 class="connectoror"><%= @group.purpose %> </h1><br>
<br>
<p class="connectoror">Other members</p>
<ul>
<% @group.users.each do |user|%>
<li class="connectoror"> <%= user.first_name.capitalize%>, player of the <%= user.instrument.capitalize %>
<%= link_to "Click for #{user.first_name.capitalize}'s profile", user_path(user), class: "connectororor" %>
  </li>
<% end %>
</ul>
<div class="gmwidther">
<%= simple_form_for [@group, @user_group] do |f| %>
<%= f.association :user, collection: User.where.not(id: current_user.id).pluck(:id, :first_name), label_method: :second, value_method: :first %>
<%= f.button :submit, "Add User", class: "connectororino"%>
<% end %>
</div>
<%= link_to "see other groups", groups_path, class: "connectoror"  %>
</div>
<div>
<%# <div class="gmdisplayer"> %>
<div class="displayer">
<div class="display">
<p class="connectoror">Where are your fellow members?</p>
    <div id= "map", style="width: 600px; height: 400px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
</div>
</div>

<div class="gmdisplay">
<div>
<div class="container chatroom" class="gmdisplay">
  <div class="messages">
    <% @group.messages.each do |message| %>
      <div class="connectoror" id="message-<%= message.id %>">
        <small>
          <strong><%= message.user.first_name.capitalize %></strong>
          <i  class="connectororor"><%= message.created_at.strftime("%a %b %e at %l:%M %p") %></i>
        </small>
        <p class="connectororor"><%= message.content %></p>
      </div>
    <% end %>
  </div>
</div>
</div>
</div>

<%= simple_form_for [@group, @message],
  html: {class: "d-flex"} do |f|
%>
  <%= f.input :content,
    label: false,
    placeholder: "Message #{@group.name}",
    wrapper_html: {class: "flex-grow-1"}
  %>
  <%= f.submit "Send", class: "btn btn-primary mb-3" %>
<% end %>
